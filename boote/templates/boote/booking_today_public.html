{% load static %}

<head>

<title>Reservierungen</title>

<!-- Automatically Reload Page -->
<script>
  
  function initialize(){
	console.log('Init');
	setInterval(switchTab, 10000)
  }

  function switchTab() {
        var nextTab = 1;
	    var currentTab = 1;

	    {% if request.GET.tab %}
	    currentTab = {{request.GET.tab}};
	    {% endif %}

        if (currentTab) {
		nextTab = currentTab+1;
	}
	if (nextTab>4) nextTab = 1;
	window.location.href = '/boote/booking/today/public/?tab='+nextTab;

  }

  window.onload=initialize
</script>

<link rel="stylesheet" href="{% static 'fontawesomefree/css/fontawesome.min..css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'fontawesomefree/css/solid.min.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'boote/css/boote_public.css' %}" type="text/css">


 <!-- Configuring Web Application -->
 <link rel="manifest" href="{% static 'boote/manifest.json' %}">
 <meta name="apple-mobile-web-app-capable" content="yes" />
 <meta name="apple-mobile-web-app-status-bar-style" content="black" />

 <meta name="apple-mobile-web-app-title" content="SVPB Reservierungen">
 <link rel="apple-touch-startup-image" href="/assets/favicon/favicon300.png">

</head>
<body>

<!-- COMMON -->
<DIV id="tab_{{tab}}" class="tab">
	<div class="boat_summary">
        {% if selected_image %}
            <img src="{% static selected_image %}" alt="Tab image"/>
        {% endif %}
		<div>
			<h2>Reservierungen</h2>
			<h1>Conger</h1>
			<h2>Stand: {{date}} </h2>
			<h2>Uhrzeit: {{time}} </h2>
		</div>
	</div>
<TABLE class='boatslist'>
 <thead>
        <tr>
            <th>Boot</th>
            <th class="date" colspan="2">08:00</th>
            <th class="date" colspan="2">09:00</th>
            <th class="date" colspan="2">10:00</th>
            <th class="date" colspan="2">11:00</th>
            <th class="date" colspan="2">12:00</th>
            <th class="date" colspan="2">13:00</th>
            <th class="date" colspan="2">14:00</th>
            <th class="date" colspan="2">15:00</th>
            <th class="date" colspan="2">16:00</th>
            <th class="date" colspan="2">17:00</th>
            <th class="date" colspan="2">18:00</th>
            <th class="date" colspan="2">19:00</th>
            <th class="date" colspan="2">20:00</th>
            <th class="date" colspan="2">21:00</th>
         </tr>
 </thead>

{% for boat, overviewday in filtered_bookings %}
<TR>
    <TD class="firstcol"> 
        <b>{{ boat.name }}</b><br>{{ boat.type.name }}
    </TD>
    {% for userid, usertag, type in overviewday %}
        {% if userid %}
            <TD class='{{ type }}'>
                <i class="fa-solid fa-lock"><br>
                <span class="tinyfont">{{ type }}</span>
            </TD>
        {% else %}
            <TD class='booked0'>&nbsp;</TD>
        {% endif %}
    {% endfor %}
</TR>
{% empty %}
    <TR><TD>No bookings found for this tab.</TD></TR>
{% endfor %}
</TABLE>
</DIV>

<hr>
{% if request.GET.tab == "1" or not request.GET.tab %}
<!-- CONGER -->
<DIV id="tab_1" class="tab">
	<div class="boat_summary">
		<img src="{% static 'boote/conger.jpg' %}"/>
		<div>
			<h2>Reservierungen</h2>
			<h1>Conger</h1>
			<h2>Stand: {{date}} </h2>
			<h2>Uhrzeit: {{time}} </h2>
		</div>
	</div>
<TABLE class='boatslist'>
 <thead>
        <tr>
            <th>Boot</th>
            <th class="date" colspan="2">08:00</th>
            <th class="date" colspan="2">09:00</th>
            <th class="date" colspan="2">10:00</th>
            <th class="date" colspan="2">11:00</th>
            <th class="date" colspan="2">12:00</th>
            <th class="date" colspan="2">13:00</th>
            <th class="date" colspan="2">14:00</th>
            <th class="date" colspan="2">15:00</th>
            <th class="date" colspan="2">16:00</th>
            <th class="date" colspan="2">17:00</th>
            <th class="date" colspan="2">18:00</th>
            <th class="date" colspan="2">19:00</th>
            <th class="date" colspan="2">20:00</th>
            <th class="date" colspan="2">21:00</th>
         </tr>
 </thead>

{% for boat, overviewday in bookings %}
 {% if boat.type.name == "Conger" %}
 <TR>
    <TD class="firstcol"> <b>{{ boat.name }}</b><br>{{ boat.type.name }}</span> </TD>
     {% for userid, usertag, type in overviewday %}
    	{% if userid %}
      	<TD class='{{ type }}'><i class="fa-solid fa-lock"><br><span class="tinyfont">{{ type }}</span></TD>
      	{% else %}
      	<TD class='booked0'>&nbsp</TD>
      	{% endif %}
    {% endfor %}
  </TR>
{% endif %}
  {% endfor %}
</TABLE>
</DIV>
{% endif %}


{% if request.GET.tab == "2" %}
<!-- MARINER 19 -->
<DIV id="tab_2" class="tab">
    <div class="boat_summary">
        <img src="{% static 'boote/mariner19.jpg' %}"/>
        <div>
            <h2>Reservierungen</h2>
            <h1>Mariner 19</h1>
  			<h2>Stand: {{date}}</h2>
        </div>
    </div>
<TABLE class='boatslist'>
 <thead>
        <tr>
            <th>Boot</th>
            <th class="date" colspan="2">08:00</th>
            <th class="date" colspan="2">09:00</th>
            <th class="date" colspan="2">10:00</th>
            <th class="date" colspan="2">11:00</th>
            <th class="date" colspan="2">12:00</th>
            <th class="date" colspan="2">13:00</th>
            <th class="date" colspan="2">14:00</th>
            <th class="date" colspan="2">15:00</th>
            <th class="date" colspan="2">16:00</th>
            <th class="date" colspan="2">17:00</th>
            <th class="date" colspan="2">18:00</th>
            <th class="date" colspan="2">19:00</th>
            <th class="date" colspan="2">20:00</th>
            <th class="date" colspan="2">21:00</th>
         </tr>
 </thead>

{% for boat, overviewday in bookings %}
 {% if boat.type.name == "Mariner 19" %}
 <TR>
    <TD  class="firstcol"> <b>{{ boat.name }}</b><br>{{ boat.type.name }}</span> </TD>
     {% for userid, usertag, type in overviewday %}
        {% if userid %}
        <TD class='{{ type }}'><i class="fa-solid fa-lock"><br><span class="tinyfont">{{ type }}</span></TD>
        {% else %}
        <TD class='booked0'>&nbsp</TD>
        {% endif %}
    {% endfor %}
  </TR>
{% endif %}
  {% endfor %}
</TABLE>
</DIV>
{% endif %}


{% if request.GET.tab == "3" %}
<!-- OTHER -->
<DIV id="tab_3" class="tab">
        <div class="boat_summary">
            <img src="{% static 'boote/other.jpg' %}"/>
            <div>
                <h2>Reservierungen</h2>
                <h1>Andere Boote</h1>
 			    <h2>Stand: {{date}} </h2>
		    </div>
        </div>
<TABLE class='boatslist'>
 <thead>
        <tr>
            <th>Boot</th>
            <th class="date" colspan="2">08:00</th>
            <th class="date" colspan="2">09:00</th>
            <th class="date" colspan="2">10:00</th>
            <th class="date" colspan="2">11:00</th>
            <th class="date" colspan="2">12:00</th>
            <th class="date" colspan="2">13:00</th>
            <th class="date" colspan="2">14:00</th>
            <th class="date" colspan="2">15:00</th>
            <th class="date" colspan="2">16:00</th>
            <th class="date" colspan="2">17:00</th>
            <th class="date" colspan="2">18:00</th>
            <th class="date" colspan="2">19:00</th>
            <th class="date" colspan="2">20:00</th>
            <th class="date" colspan="2">21:00</th>
         </tr>
 </thead>

{% for boat, overviewday in bookings %}
 {% if boat.type.name != "Mariner 19" and  boat.type.name != "Conger" and  boat.type.name != "Bootskran"  %}
 <TR>
    <TD  class="firstcol"> <b>{{ boat.name }}</b><br>{{ boat.type.name }}</span> </TD>
     {% for userid, usertag, type in overviewday %}
        {% if userid %}
        <TD class='{{ type }}'><i class="fa-solid fa-lock"><br><span class="tinyfont">{{ type }}</span></TD>
        {% else %}
        <TD class='booked0'>&nbsp</TD>
        {% endif %}
    {% endfor %}
  </TR>
{% endif %}
  {% endfor %}
</TABLE>
</DIV>
{% endif %}


{% if request.GET.tab == "4" %}
<!-- BOOTSKRAN -->
<DIV id="tab_4" class="tab">
	<div class="boat_summary">
        <img src="{% static 'boote/kran.jpg' %}"/>
        <div>
			<h2>Reservierungen</h2>
            <h1>Bootskran</h1>
			<h2>Stand: {{date}} </h2>
		</div>
    </div>
    <TABLE class='boatslist'>
        <thead>
            <tr>
                <th>Boot</th>
                <th class="date" colspan="2">08:00</th>
                <th class="date" colspan="2">09:00</th>
                <th class="date" colspan="2">10:00</th>
                <th class="date" colspan="2">11:00</th>
                <th class="date" colspan="2">12:00</th>
                <th class="date" colspan="2">13:00</th>
                <th class="date" colspan="2">14:00</th>
                <th class="date" colspan="2">15:00</th>
                <th class="date" colspan="2">16:00</th>
                <th class="date" colspan="2">17:00</th>
                <th class="date" colspan="2">18:00</th>
                <th class="date" colspan="2">19:00</th>
                <th class="date" colspan="2">20:00</th>
                <th class="date" colspan="2">21:00</th>
            </tr>
    </thead>

    {% for boat, overviewday in bookings %}
    {% if boat.type.name == "Bootskran" %}
    <TR>
        <TD  class="firstcol"> <b>{{ boat.name }}</b><br>{{ boat.type.name }}</span> </TD>
        {% for userid, usertag, type in overviewday %}
            {% if userid %}
            <TD class='{{ type }}'><i class="fa-solid fa-lock"><br><span class="tinyfont">{{ type }}</span></TD>
            {% else %}
            <TD class='booked0'>&nbsp</TD>
            {% endif %}
        {% endfor %}
    </TR>
    {% endif %}
    {% endfor %}
    </TABLE>
</DIV>
{% endif %}



</body>
