{% load static %}
{% load i18n %}

{% load render_table from django_tables2 %}
{% load crispy_forms_tags %}


<!doctype html>
<html lang="de">
<head>
<script src="{% static "jquery/jquery-1.11.0.min.js"%}"></script>
<script src="{% static "datepicker/js/bootstrap-datepicker.js"%}"></script>
<script src="{% static "datepicker/js/locales/bootstrap-datepicker.de.js"%}" charset="UTF-8"></script>


<title>
{% block title %}
SVPB -- Die kleine Webseite zur Vereinsunterst√ºtzung
{% endblock %}
</title>
{% block extrastyle %}{% endblock %}
<link rel="stylesheet" href="{% static 'fontawesomefree/css/fontawesome.min.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'fontawesomefree/css/solid.min.css' %}" type="text/css">
<link rel="stylesheet" href="{% static 'fontawesomefree/css/regular.min.css' %}" type="text/css">
<link rel="stylesheet" href="{% static "bootstrap/css/bootstrap.min.css"%}" type="text/css" />

</head>
{% comment %}
<link href="{% static "bootstrap/css/starter-template.css"%}" rel="stylesheet">
<link href="{% static "admin/css/screen.css"%}" rel="stylesheet">
<link rel="stylesheet" href="{% static "bootstrap/css/mybuttons.css"%}" type="text/css" />
<link id="bsdp-css" href="{% static "datepicker/css/datepicker3.css"%}" rel="stylesheet">


<link id="select2-bootstrap-css" href="{% static "bootstrap/css/select2-bootstrap.css"%}" rel="stylesheet">
{% endcomment %}

<body role="document">

  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-md">
      <a class="navbar-brand" href="/">
        <img src="{% static "boote/svpb.png" %}" height="58 px">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
          {% block apphome %}
          {% endblock %}
          </li>
          {% if user.is_active %}
            {% block appnav %}
            {% endblock %}
          {% endif %}
        </ul>

        {% if user.is_active %}
        <ul class="navbar-nav navbar-right">
          <li class="dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-user"></i> Mein Profil
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="/logout/">{% trans 'Log out' %}</a></li>
              {% if user.has_usable_password %}
              <li><a class="dropdown-item" href="{% url 'password_change' %}">{% trans 'Change password' %}</a></li>
              <li><a class="dropdown-item" href="{% url 'accountEdit' %}">Meine Profildaten editieren</a></li>
              {% endif %}
              {% for g in user.groups.all %}
                {% if g.name == "Vorstand" %}
              <li><hr class="dropdown-divider"></li>
              <li><h6 class="dropdown-header">Vorstandsfunktionen</h6></li>
              <li><a class="dropdown-item" href="/impersonate/liste/">Anderen Nutzer darstellen</a></li>
                {% endif %}
              {% endfor %}
              {% if user.is_impersonate %}
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="/impersonate/stop/">Als ich selbst arbeiten</a></li>
              {% endif %}
            </ul>
          </li>
          <li class="nav-item"><a class="nav-link" href="/manual/"><i class="fa-solid fa-question"></i> Handbuch</a></li>
          <li class="nav-item"><a class="nav-link" href="/logout/"><i class="fa-solid fa-sign-out"></i> Abmelden</a></li>
        </ul>
        {% endif %}
      </div><!--/.nav-collapse -->
    </div>
  </nav>

    <div  class="container theme-showcase" role="main">

    <div class="page-header">
      <h1>       {% block branding %}
      SVPB
      {% endblock %}
      </h1>
    </div>
    {% block messages %}
    {% if messages %}
    {% for message in messages %}
    <div class="alert{% if message.tags %} alert-{{ message.tags }}{% endif %}">
      {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endblock %}

    {% block impersonation %}
      {% if user.is_impersonate %}
      <div class="alert alert-warning">
       <b> ACHTUNG! </b>
        {{ request.impersonator.first_name }} {{ request.impersonator.last_name }},
        Sie arbeiten jetzt als dieses Mitglied:
        {{ request.user.first_name }} {{ request.user.last_name }}
       <b> ACHTUNG! </b>
      </div>
      {% comment %}
      {% else %}
      <div class="alert alert-warning">
        Nur debugging: Keine Impersonation! 
        {{ request.user }} ({{ request.impersonator }})
      </div>
      {% endcomment %}
      {% endif %}
    {% endblock %}
    
      {% block content %}
      {% endblock %}
    </div><!-- /.container -->

    
<script>
$(".datepicker").datepicker({
todayBtn: "linked",
language: "de"});

$(".input-daterange").datepicker({
    todayBtn: "linked",
    language: "de"
});
    
$(document).ready(function(){
    $(".tooltip-examples a").tooltip({
        placement : 'top'
    });
});
</script> 

<script src="{% static "bootstrap/js/bootstrap.bundle.min.js"%}"></script>    
</body> </html>
